<view class="page">
  <!-- å·¦ä¾§åˆ†ç±» -->
  <scroll-view class="left" scroll-y="true">
    <view
      wx:for="{{categories}}"
      wx:key="_id"
      class="cat {{selectedCatId === item._id ? 'active' : ''}}"
      data-id="{{item._id}}"
      bindtap="onSelectCategory"
    >
      {{item.name}}
    </view>
  </scroll-view>

  <!-- å³ä¾§èœå“åˆ—è¡¨ -->
  <scroll-view class="right" scroll-y="true" refresher-enabled="{{false}}">
    <view class="right-inner">
      <view class="header">
        <text class="title">{{selectedCatName || 'èœå•'}}</text>
        <text class="sub">å…± {{products.length}} ä¸ª</text>
      </view>

      <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>

      <view wx:if="{{!loading && products.length === 0}}" class="empty">
        è¿™ä¸ªåˆ†ç±»è¿˜æ²¡æœ‰èœå“
      </view>

      <view class="grid">
        <view
          wx:for="{{products}}"
          wx:key="_id"
          class="card"
          data-id="{{item._id}}"
          bindtap="goItem"
        >
          <image class="img" mode="aspectFill" src="{{item.imageUrl}}" />
          <view class="info">
            <view class="name">{{item.name}}</view>
            <view class="desc" wx:if="{{item.description}}">{{item.description}}</view>
            <view class="row">
              <text class="price">$ {{item.priceYuan}}</text>
              <text class="tag" wx:for="{{item.tags}}" wx:key="*this">{{item}}</text>
            </view>
          </view>
        </view>
      </view>

      <view class="footer-space"></view>
    </view>
  </scroll-view>
  <view class="fab" bindtap="goCart">ğŸ›’</view>
</view>
